<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Balanced Binary Tree</title>
    </head>
    <body>
        <pre>
            Given a binary tree, determine if it is height-balanced.

            For this problem, a height-balanced binary tree is defined as a binary tree in which the depth of the two subtrees of every node never differ by more than 1.
        </pre>
        <script>
            /**
             * Definition for a binary tree node.
             * function TreeNode(val) {
             *     this.val = val;
             *     this.left = this.right = null;
             * }
             */
            /**
             * @param {TreeNode} root
             * @return {boolean}
             */
            var isBalanced = function(root) {
                var leftHeight = 0, rightHeight = 0;
                if(!root){
                    return true;
                }

                var calcHeight = function calcHeight(node) {
                    if(!node){
                        return 0;
                    } else {
                        return Math.max(calcHeight(node.left), calcHeight(node.right)) + 1;
                    }
                };

                leftHeight = calcHeight(root.left);
                rightHeight = calcHeight(root.right);
                if(Math.abs(leftHeight - rightHeight) > 1){
                    return false;
                }
                
                return isBalanced(root.left) && isBalanced(root.right);
                
            };

            var tree = {
                val: 3,
                left: {
                    val: 2,
                    left: null,
                    right: null
                },
                right: {
                    val: 5,
                    left: null,
                    right: {
                        val: 7,
                        left: null,
                        right: null
                    }
                }
            };
            var result = binaryTreePaths(tree);
            console.log(result);
        </script>
    </body>
</html>
