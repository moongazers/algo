<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Range Sum Query - Immutable</title>
    </head>
    <body>
        <pre>
            Given an integer array nums, find the sum of the elements between indices i and j (i â‰¤ j), inclusive.

            Example:
            Given nums = [-2, 0, 3, -5, 2, -1]

            sumRange(0, 2) -> 1
            sumRange(2, 5) -> -1
            sumRange(0, 5) -> -3
            Note:
            You may assume that the array does not change.
            <b>There are many calls to sumRange function.</b>

        </pre>
        <script>
            /**
            * @param {number[]} nums
            */
            var NumArray = function(nums) {
                // caching, with dp
                // sumRange(i, j) = sum[j + 1] - sum[i]
                // https://leetcode.com/problems/range-sum-query-immutable/solution/
                var sum = [0];
                this.sum = sum;
                for (var i = 0; i < nums.length; i++) {
                    sum[i + 1] = sum[i] + nums[i];
                }
            };

            /** 
            * @param {number} i 
            * @param {number} j
            * @return {number}
            */
            NumArray.prototype.sumRange = function(i, j) {
                return this.sum[j+1] - this.sum[i];
            };

            /** 
            * Your NumArray object will be instantiated and called as such:
            * var obj = Object.create(NumArray).createNew(nums)
            * var param_1 = obj.sumRange(i,j)
            */


            var arr = [-2,1,-3,4,-1,2,1,-5,4];
            var result =  new NumArray(arr);
            console.log(result.sumRange(2,5));

        </script>
    </body>
</html>
